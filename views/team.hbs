
<div class="container">
    <div class="admin-container-content">
        <header class="px-4">
            <h1 class="row py-2 pl-2 text-primary">
                Danh sách đội
            </h1>
        </header>
        <div class="table-wrapper px-4">
            <form class="row gx-3 gy-2 mb-4 align-items-center">
                <div class="col-sm-9">
                    <div class="row">
                        <div class="col-sm-3">
                            <input type="text" class="form-control" id="" placeholder="Mã độ bóng">
                        </div>
                        <div class="col-sm-3">
                            <input type="text" class="form-control" id="" placeholder="Mã người đăng ký">
                        </div>
                        <div class="col-sm-3">
                            <select class="form-select" id="">
                                <option selected>Tên đội bóng</option>
                                <option value="1">One</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                            </select>
                        </div>
                        <div class="col-sm-3">
                            <select class="form-select" id="">
                                <option selected>Tên giải đấu</option>
                                <option value="1">One</option>
                                <option value="2">Two</option>
                                <option value="3">Three</option>
                            </select>
                        </div>
                    </div>
                </div>

            </form>

            <table id="table" class="table table-striped table-bordered table-hover">
                <thead>
                      <tr>
                        <th>
                            <span class="custom-checkbox">
                                <input type="checkbox" id="selectAll">
                                <label for="selectAll"></label>
                            </span>
                        </th>
                        <th>Mã đội bóng</th>
                        <th>Tên đội bóng</th>
                        <th>Số thành viên</th>
                        <th>Màu áo</th>
                        <th>Điểm</th>
                        <th>Mã người đăng ký</th>
                        <th>Mã giải đấu</th>
                        <th>Mã bảng đấu</th>
                        <th>Chi tiết</th>
                        <th>Sửa/Xóa</th>
                    </tr>
                </thead>
                <tbody>
                {{#each teams}}
                    <tr>
                        <td>
                        <span class="custom-checkbox">
                            <input type="checkbox" id="checkbox1" name="options[]" value="1">
                            <label for="checkbox1"></label>
                        </span>
                        </td>

                        <td>{{MaDB}}</td>
                        <td>{{TenDB}}</td>
                        <td>{{SoThanhVien}}</td>
                        <td>{{MauAo}}</td>
                        <td>{{Diem}}</td>
                        <td>{{MaNDK}}</td>
                        <td>{{MaGD}}</td>
                        <td>{{MaBD}}</td>
                        <td class="text-center">
                            <a href="">
                                <i class="fas fa-info-circle"></i>
                            </a>
                        </td>
                        <td>
                            <a href="#deleteModal" class="delete" data-toggle="modal">
                                <input type="hidden" value="{{MaGD}}">
                                <i class="fas fa-trash"></i>
                            </a>
                        </td>
                    </tr>
                {{/each}}
                </tbody>
            </table>
        </div>

        <footer class="row justify-content-center">
            <nav class="col-lg-3 col-md-6 col-sm-9" aria-label="Page navigation example" id="pagination">
<!--                <ul class="pagination">-->
<!--                    <li class="page-item"><a class="page-link" href="#">1</a></li>-->
<!--                    <li class="page-item"><a class="page-link" href="#">2</a></li>-->
<!--                    <li class="page-item"><a class="page-link" href="#">3</a></li>-->
<!--                    <li class="page-item"><a class="page-link" href="#">Next</a></li>-->
<!--                    <li class="page-item"><a class="page-link" href="#">Previous</a></li>-->
<!--                </ul>-->
                {{{createPagination pagination paginationClass="pagination"}}}
            </nav>
        </footer>
    </div>
</div>

<!-- Delete Modal HTML -->
<div id="deleteModal" class="modal fade">
    <div class="modal-dialog">
        <div class="modal-content">
            <form>
                <input type="hidden" name="deleteID" id="deleteID">
                <div class="modal-header">
                    <h4 class="modal-title">Xóa thành viên này?</h4>
                    <button type="button" class="btn-close" data-dismiss="modal" aria-hidden="true"></button>
                </div>
                <div class="modal-body">
                    <p>Bạn chắc chắn xóa giải đấu?</p>
                    <p class="text-warning"><small>Hành động này sẽ không được phục hồi!</small></p>
                </div>
                <div class="modal-footer">
                    <input type="button" class="btn btn-default" data-dismiss="modal" value="Hủy">
                    <input type="submit" class="btn btn-danger" value="Xóa">
                </div>
            </form>
        </div>
    </div>
</div>
<!--<div id="deleteAllModal" class="modal fade">-->
<!--    <div class="modal-dialog">-->
<!--        <div class="modal-content">-->
<!--            <form>-->
<!--                <div class="modal-header">-->
<!--                    <h4 class="modal-title">Xóa tất cả thành viên?</h4>-->
<!--                    <button type="button" class="btn-close" data-dismiss="modal" aria-hidden="true"></button>-->
<!--                </div>-->
<!--                <div class="modal-body">-->
<!--                    <p>Bạn chắc chắn xóa tất cả thành viên khỏi đội?</p>-->
<!--                    <p class="text-warning"><small>Hành động này sẽ không được phục hồi!</small></p>-->
<!--                </div>-->
<!--                <div class="modal-footer">-->
<!--                    <input type="button" class="btn btn-default" data-dismiss="modal" value="Hủy">-->
<!--                    <input type="submit" class="btn btn-danger" value="Xóa">-->
<!--                </div>-->
<!--            </form>-->
<!--        </div>-->
<!--    </div>-->
<!--</div>-->

{{#section 'script'}}
    <script>

        $(".delete").click(function() {
            const id = $(this).children('input').val();
            console.log(id);
            $("#deleteID").val(id);
        });

        let urlParams = new URLSearchParams(location.search);

        $(document).ready(function() {

            $('#pagination li').addClass('page-item');
            $('#pagination li a').addClass('page-link');


            const currentPage = urlParams.get("page");

            $('#pagination li a').each((index, item) => {
                let itemPage = $(item).attr('href').split('=')[1];
                // console.log(itemPage);
                urlParams.set("page",itemPage);

                const itemHref = pathname + '?' + urlParams.toString();
                $(item).attr('href',itemHref);
            })

            urlParams.set("page",currentPage);

        });

    </script>
{{/section}}